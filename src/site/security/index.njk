---
layout: layout.njk
title: セキュリティ情報
scripts: |
  <script>
    let paginator;
    document.addEventListener('DOMContentLoaded', function() {
      paginator = new ArticlePaginator({
        containerId: 'latest-articles-list',
        paginationId: 'latest-articles-pagination',
        dataUrl: '/custom-rss/security/data/articles-all.json',
        itemsPerPage: 20
      });
      paginator.init();
    });
  </script>
---

<div class="card">
  <h2>RSSフィードを購読</h2>
  <p style="margin-bottom: 1rem; color: var(--text-muted);">お好みのRSSリーダーで購読できます</p>
  <div class="feed-links">
    <a href="/custom-rss/security/feeds/all.xml" class="feed-link">全体フィード (RSS)</a>
    {% for category in feed.categories %}
    <a href="/custom-rss/security/feeds/{{ category.id }}.xml" class="feed-link secondary">{{ category.label }}</a>
    {% endfor %}
  </div>
</div>

<div class="card">
  <h2>
    最新記事
    <span style="font-size: 0.875rem; font-weight: normal; color: var(--text-muted);">全{{ feed.totalArticles }}件</span>
  </h2>
  <ul class="article-list" id="latest-articles-list">
    {% for article in feed.latestArticles %}
    <li class="article-item">
      <div class="article-title">
        <a href="{{ article.link }}" target="_blank" rel="noopener">{{ article.title }}</a>
      </div>
      <div class="article-meta">
        <span class="article-source">{{ article.source }}</span>
        <span>{{ article.pubDate | shortDate }}</span>
      </div>
    </li>
    {% endfor %}
  </ul>
  <div id="latest-articles-pagination"></div>
</div>

<h2 style="margin-bottom: 1rem;">カテゴリ別</h2>
<div class="grid">
  {% for category in feed.categories %}
  <div class="card">
    <h2>
      {{ category.label }}
      <span>
        <a href="/custom-rss/security/category/{{ category.id }}/" style="margin-right: 0.5rem;">全記事</a>
        <a href="/custom-rss/security/feeds/{{ category.id }}.xml">RSS</a>
      </span>
    </h2>
    <ul class="article-list">
      {% for article in feed.articlesByCategory[category.id] %}
      <li class="article-item">
        <div class="article-title">
          <a href="{{ article.link }}" target="_blank" rel="noopener">{{ article.title | truncate(60) }}</a>
        </div>
        <div class="article-meta">
          <span class="article-source">{{ article.source }}</span>
          <span>{{ article.pubDate | shortDate }}</span>
        </div>
      </li>
      {% endfor %}
    </ul>
    <p style="text-align: center; margin-top: 1rem;">
      <a href="/custom-rss/security/category/{{ category.id }}/" style="color: var(--primary-color);">
        全{{ category.articleCount }}件を見る →
      </a>
    </p>
  </div>
  {% endfor %}
</div>
